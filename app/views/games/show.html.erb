<div class="container mt-4">
    <% if user_signed_in? %>
        <h1 class="text-center">Game Board</h1>
        <div class="progress mb-3">
          <div class="progress-bar" role="progressbar" style="width: <%= @game.progress_percentage %>%" aria-valuenow="<%= @game.progress_percentage %>" aria-valuemin="0" aria-valuemax="100"></div>
        </div>

        <% case @game.state %>
        <% when 'won' %>
            <div class="alert alert-success text-center" role="alert">
                <h2>You Won!</h2>
            </div>
        <% when 'lost' %>
            <div class="alert alert-danger text-center" role="alert">
                <h2>You Lost!</h2>
            </div>
        <% else %>
            <div class="badge bg-secondary text-light text-center" role="status">
                <%= @game.state.titleize %>
            </div>
        <% end %>

        <%= render 'board', game: @game %>

    <% else %>
        <p class="text-center">You need to sign in to view this game.</p>
    <% end %>
</div>
